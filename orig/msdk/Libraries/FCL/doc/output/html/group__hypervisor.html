<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Deeptrust for PCI security architecture: uVisor API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="maxim-logo-202.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Deeptrust for PCI security architecture
   &#160;<span id="projectnumber">SPEC98T17 rev E</span>
   </div>
   <div id="projectbrief">Specification of Deeptrust, the Security Architecture for Cortex-M.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__hypervisor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">List of types</a> &#124;
<a href="#func-members">List of functions</a>  </div>
  <div class="headertitle">
<div class="title">uVisor API</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct_uvisor_box_acl_item"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#struct_uvisor_box_acl_item">UvisorBoxAclItem</a></td></tr>
<tr class="separator:struct_uvisor_box_acl_item"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6143739a0475a71e8002f540de3c53f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga6143739a0475a71e8002f540de3c53f0">UVISOR_BOX_CONFIG</a>(box_nameconst UvBoxAclItem module_acl_listuint32_t module_stack_size,  struct __your_context,  verif_key_id)</td></tr>
<tr class="memdesc:ga6143739a0475a71e8002f540de3c53f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Secure box configuration.  <a href="#ga6143739a0475a71e8002f540de3c53f0">More...</a><br /></td></tr>
<tr class="separator:ga6143739a0475a71e8002f540de3c53f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe52bfcc466d459d149c63966c2f4a58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gafe52bfcc466d459d149c63966c2f4a58">UVISOR_BOX_NAMESPACE</a>(static const char const namespace)</td></tr>
<tr class="memdesc:gafe52bfcc466d459d149c63966c2f4a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the namespace for a box. C/C++ pre-processor macro (pseudo-function)  <a href="#gafe52bfcc466d459d149c63966c2f4a58">More...</a><br /></td></tr>
<tr class="separator:gafe52bfcc466d459d149c63966c2f4a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cb080278fc7d660addf9bbff6d3f2da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga7cb080278fc7d660addf9bbff6d3f2da">UVISOR_SET_MODE</a>(uvisor_mode)</td></tr>
<tr class="memdesc:ga7cb080278fc7d660addf9bbff6d3f2da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set mode for the uVisor [temporary].  <a href="#ga7cb080278fc7d660addf9bbff6d3f2da">More...</a><br /></td></tr>
<tr class="separator:ga7cb080278fc7d660addf9bbff6d3f2da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae90f548ce110da855610f79301aafe34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gae90f548ce110da855610f79301aafe34">UVISOR_SET_MODE_ACL</a>(uvisor_mode,  const UvBoxAcl main_box_acl_list)</td></tr>
<tr class="memdesc:gae90f548ce110da855610f79301aafe34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set mode for the uVisor and provide background ACLs for the main box.  <a href="#gae90f548ce110da855610f79301aafe34">More...</a><br /></td></tr>
<tr class="separator:gae90f548ce110da855610f79301aafe34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
List of types</h2></td></tr>
<tr class="memitem:ga1527b3a7e3df3007490669cbd26b4fe9"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga1527b3a7e3df3007490669cbd26b4fe9">UvisorBoxAcl</a></td></tr>
<tr class="separator:ga1527b3a7e3df3007490669cbd26b4fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
List of functions</h2></td></tr>
<tr class="memitem:ga6e7f7b03367daefa2cbcb7e4f0538ba7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga6e7f7b03367daefa2cbcb7e4f0538ba7">check_acl</a> (uint32_t *p_acl, uint32_t keyindex)</td></tr>
<tr class="memdesc:ga6e7f7b03367daefa2cbcb7e4f0538ba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook called by uVisor during loading of secure boxes.  <a href="#ga6e7f7b03367daefa2cbcb7e4f0538ba7">More...</a><br /></td></tr>
<tr class="separator:ga6e7f7b03367daefa2cbcb7e4f0538ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdaf52538986a558e934eab65221731e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gafdaf52538986a558e934eab65221731e">rpc_fncall_waitfor</a> (const TFN_Ptr fn_ptr_array[], size_t fn_count, int *box_id_caller, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:gafdaf52538986a558e934eab65221731e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle incoming RPC, setting the parameter box_id_caller to the caller box ID.  <a href="#gafdaf52538986a558e934eab65221731e">More...</a><br /></td></tr>
<tr class="separator:gafdaf52538986a558e934eab65221731e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab099ca7d08f626791039573dbff14af5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gab099ca7d08f626791039573dbff14af5">uvisor_box_id_self</a> (void)</td></tr>
<tr class="memdesc:gab099ca7d08f626791039573dbff14af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ID of the current box.  <a href="#gab099ca7d08f626791039573dbff14af5">More...</a><br /></td></tr>
<tr class="separator:gab099ca7d08f626791039573dbff14af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab605e738e6bc828cd9efb6eacca79685"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gab605e738e6bc828cd9efb6eacca79685">uvisor_box_namespace</a> (int box_id, char *box_namespace, size_t length)</td></tr>
<tr class="memdesc:gab605e738e6bc828cd9efb6eacca79685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the namespace of the specified box to the provided buffer.  <a href="#gab605e738e6bc828cd9efb6eacca79685">More...</a><br /></td></tr>
<tr class="separator:gab605e738e6bc828cd9efb6eacca79685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82e5cbff1a1a26974ed1e5f493607cf2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga82e5cbff1a1a26974ed1e5f493607cf2">uvisor_box_signingkey</a> (int box_id, int *keyindex)</td></tr>
<tr class="memdesc:ga82e5cbff1a1a26974ed1e5f493607cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the signing key ID of the specified box, hence its box privilege.  <a href="#ga82e5cbff1a1a26974ed1e5f493607cf2">More...</a><br /></td></tr>
<tr class="separator:ga82e5cbff1a1a26974ed1e5f493607cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa02ff863ab222f97723b60e59f6d92d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gaa02ff863ab222f97723b60e59f6d92d8">vIRQ_ClearPendingIRQ</a> (uint32_t irqn)</td></tr>
<tr class="memdesc:gaa02ff863ab222f97723b60e59f6d92d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear pending status of IRQn.  <a href="#gaa02ff863ab222f97723b60e59f6d92d8">More...</a><br /></td></tr>
<tr class="separator:gaa02ff863ab222f97723b60e59f6d92d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7beb8d1fe68378367bcb8085a2d16cd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga7beb8d1fe68378367bcb8085a2d16cd5">vIRQ_DisableIRQ</a> (uint32_t irqn)</td></tr>
<tr class="memdesc:ga7beb8d1fe68378367bcb8085a2d16cd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable IRQn for the currently active box.  <a href="#ga7beb8d1fe68378367bcb8085a2d16cd5">More...</a><br /></td></tr>
<tr class="separator:ga7beb8d1fe68378367bcb8085a2d16cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dd01fda80a57db36a78994d0cae91ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga3dd01fda80a57db36a78994d0cae91ee">vIRQ_EnableIRQ</a> (uint32_t irqn)</td></tr>
<tr class="memdesc:ga3dd01fda80a57db36a78994d0cae91ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable IRQn for the currently active box.  <a href="#ga3dd01fda80a57db36a78994d0cae91ee">More...</a><br /></td></tr>
<tr class="separator:ga3dd01fda80a57db36a78994d0cae91ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga880e3229f62cfff1c638c5dd6a1e9050"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga880e3229f62cfff1c638c5dd6a1e9050">vIRQ_GetLevel</a> (void)</td></tr>
<tr class="memdesc:ga880e3229f62cfff1c638c5dd6a1e9050"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get level of currently active IRQn, if any.  <a href="#ga880e3229f62cfff1c638c5dd6a1e9050">More...</a><br /></td></tr>
<tr class="separator:ga880e3229f62cfff1c638c5dd6a1e9050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad450b31ead2ec4f7bb2dbe07ebcfd8e7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gad450b31ead2ec4f7bb2dbe07ebcfd8e7">vIRQ_GetPendingIRQ</a> (uint32_t irqn)</td></tr>
<tr class="memdesc:gad450b31ead2ec4f7bb2dbe07ebcfd8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pending status of IRQn.  <a href="#gad450b31ead2ec4f7bb2dbe07ebcfd8e7">More...</a><br /></td></tr>
<tr class="separator:gad450b31ead2ec4f7bb2dbe07ebcfd8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3da0be917ac42157f0d33e3e1412379b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga3da0be917ac42157f0d33e3e1412379b">vIRQ_GetPriority</a> (uint32_t irqn)</td></tr>
<tr class="memdesc:ga3da0be917ac42157f0d33e3e1412379b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get priority level of IRQn.  <a href="#ga3da0be917ac42157f0d33e3e1412379b">More...</a><br /></td></tr>
<tr class="separator:ga3da0be917ac42157f0d33e3e1412379b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa9c852e90077dd4c553240d769b3658"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gaaa9c852e90077dd4c553240d769b3658">vIRQ_GetVector</a> (uint32_t irqn)</td></tr>
<tr class="memdesc:gaaa9c852e90077dd4c553240d769b3658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ISR registered for IRQn.  <a href="#gaaa9c852e90077dd4c553240d769b3658">More...</a><br /></td></tr>
<tr class="separator:gaaa9c852e90077dd4c553240d769b3658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5570c2fa5a04a3a183cdef960a43c6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#gab5570c2fa5a04a3a183cdef960a43c6b">vIRQ_SetPendingIRQ</a> (uint32_t irqn)</td></tr>
<tr class="memdesc:gab5570c2fa5a04a3a183cdef960a43c6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pending status of IRQn.  <a href="#gab5570c2fa5a04a3a183cdef960a43c6b">More...</a><br /></td></tr>
<tr class="separator:gab5570c2fa5a04a3a183cdef960a43c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c725e15df2f30fdaed9f1873a7eebdf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga3c725e15df2f30fdaed9f1873a7eebdf">vIRQ_SetPriority</a> (uint32_t irqn, uint32_t priority)</td></tr>
<tr class="memdesc:ga3c725e15df2f30fdaed9f1873a7eebdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set priority level of IRQn.  <a href="#ga3c725e15df2f30fdaed9f1873a7eebdf">More...</a><br /></td></tr>
<tr class="separator:ga3c725e15df2f30fdaed9f1873a7eebdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bf7917bc9150d1b91bec5d41962ff13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hypervisor.html#ga3bf7917bc9150d1b91bec5d41962ff13">vIRQ_SetVector</a> (uint32_t irqn, uint32_t vector)</td></tr>
<tr class="memdesc:ga3bf7917bc9150d1b91bec5d41962ff13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an ISR to the currently active box.  <a href="#ga3bf7917bc9150d1b91bec5d41962ff13">More...</a><br /></td></tr>
<tr class="separator:ga3bf7917bc9150d1b91bec5d41962ff13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The payment application is to be developed by the payment terminal vendor. It dialogs with the 2 secure boxes through remote procedure calls (RPC). The API is described below in this document. Shortly this API allows to display trusted messages on the display, perform EMV-level 1 compliant APDU exchanges with the smart card, perform PIN processing, capture Mag Stripe… basically everything required to perform an EMV Level-2 compliant payment.</p>
<p>Here you can find detailed documentation for:</p>
<ol type="1">
<li><a href="#configuration-macros">Configuration macros</a>, to configure a secure box and protect data and peripherals.</li>
<li><a href="#box-identity">Box Identity</a>, to retrieve a box-specific ID or the namespace of the current or calling box.<ul>
<li>A box identity identifies a security domain uniquely and globally.</li>
<li>The box identity API can be used to determine the source box of an inbound secure gateway call. This can be useful for implementing complex authorization logic between mutually distrustful security domains.</li>
<li>uVisor provides the ability to retrieve the box ID of the current box (<code>uvisor_box_id_self</code>), or of the box that called the current box through an RPC gateway via the <code>box_id_caller</code> parameter of <code>rpc_fncall_waitfor</code>.</li>
<li>The box ID number is not constant and can change between reboots. But, the box ID number can be used as a token to retrieve a constant string identifier, known as the box namespace.</li>
<li>A box namespace is a static, box-specific string, that can help identify which box has which ID at run-time. In the future, the box namespace will be guaranteed to be globally unique.</li>
<li>A full example using this API is available at <a href="https://github.com/ARMmbed/mbed-os-example-uvisor-number-store">mbed-os-example-uvisor-number-store</a>.</li>
</ul>
</li>
<li><a href="#low-level-apis">Low level APIs</a>, to access uVisor functions that are not available to unprivileged code (interrupts, restricted system registers).</li>
<li><a href="#type-definitions">Type definitions</a>.</li>
<li><a href="#error-codes">Error codes</a>.</li>
</ol>
<table class="doxtable">
<tr>
<th>Error reason </th><th>Error code  </th></tr>
<tr>
<td><code>PERMISSION_DENIED</code> </td><td>1 </td></tr>
<tr>
<td><code>SANITY_CHECK_FAILED</code> </td><td>2 </td></tr>
<tr>
<td><code>NOT_IMPLEMENTED</code> </td><td>3 </td></tr>
<tr>
<td><code>NOT_ALLOWED</code> </td><td>4 </td></tr>
<tr>
<td><code>FAULT_MEMMANAGE</code> </td><td>5 </td></tr>
<tr>
<td><code>FAULT_BUS</code> </td><td>6 </td></tr>
<tr>
<td><code>FAULT_USAGE</code> </td><td>7 </td></tr>
<tr>
<td><code>FAULT_HARD</code> </td><td>8 </td></tr>
<tr>
<td><code>FAULT_DEBUG</code> </td><td>9 </td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_uvisor_box_acl_item" id="struct_uvisor_box_acl_item"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_uvisor_box_acl_item">&sect;&nbsp;</a></span>UvisorBoxAclItem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct UvisorBoxAclItem</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>{ item_description } </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ae5e1b8a311ba7d63a3380828d266bc82"></a><a class="el" href="group__hypervisor.html#ga1527b3a7e3df3007490669cbd26b4fe9">UvisorBoxAcl</a></td>
<td class="fieldname">
acl</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aebb70c2aab3407a9f05334c47131a43b"></a>uint32_t</td>
<td class="fieldname">
length</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8cb9377ef5ed00f632f5744aa51f7b81"></a>const volatile void *</td>
<td class="fieldname">
start</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga6143739a0475a71e8002f540de3c53f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6143739a0475a71e8002f540de3c53f0">&sect;&nbsp;</a></span>UVISOR_BOX_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UVISOR_BOX_CONFIG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">box_nameconst UvBoxAclItem module_acl_listuint32_t<em>module_stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">struct __your_context, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">verif_key_id&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Secure box configuration. </p>
<p>C/C++ pre-processor macro (pseudo-function)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">box_name</td><td>Secure box name </td></tr>
    <tr><td class="paramname">module_acl_list</td><td>List of ACLs for the module </td></tr>
    <tr><td class="paramname">module_stack_size</td><td>Required stack size for the secure box </td></tr>
    <tr><td class="paramname">__your_context</td><td>[optional] Type definition of the struct hosting the box context data </td></tr>
    <tr><td class="paramname">verif_key_id</td><td>the Id of the key to use for the verification of the signature of the box #define KEYINDEX_FW 0x4E5F739aUL #define KEYINDEX_TRUSTEDAPP 0xebf78ac4UL #define KEYINDEX_OTHERAPP 0x9cfb3459UL</td></tr>
  </table>
  </dd>
</dl>
<p>Example: ``` #include "uvisor-lib/uvisor-lib.h"</p>
<p>// Required stack size #define BOX_STACK_SIZE 0x100</p>
<p>// Define the box context. typedef struct { uint8_t secret[SECRET_SIZE]; bool initialized; State_t current_state } BoxContext;</p>
<p>// Create the ACL list for the module. static const UvBoxAclItem g_box_acl[] = { {PORTB, sizeof(*PORTB), UVISOR_TACLDEF_PERIPH}, {RTC, sizeof(*RTC), * UVISOR_TACLDEF_PERIPH}, {LPTMR0, sizeof(*LPTMR0), UVISOR_TACLDEF_PERIPH}, };</p>
<p>// Configure the secure box compartment. UVISOR_BOX_NAMESPACE("com.example.my-box-name"); UVISOR_BOX_CONFIG(my_box_name, g_box_acl, BOX_STACK_SIZE, BoxContext);</p>
<p>``` </p>

</div>
</div>
<a id="gafe52bfcc466d459d149c63966c2f4a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe52bfcc466d459d149c63966c2f4a58">&sect;&nbsp;</a></span>UVISOR_BOX_NAMESPACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UVISOR_BOX_NAMESPACE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">static const char const<em>namespace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify the namespace for a box. C/C++ pre-processor macro (pseudo-function) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">namespace</td><td>The namespace of the box</td></tr>
  </table>
  </dd>
</dl>
<p>The namespace of the box must be a null-terminated string no longer than MAX_BOX_NAMESPACE_LENGTH (including the terminating null).</p>
<p>The namespace must also be stored in public flash. uVisor will verify that the namespace is null-terminated and stored in public flash at boot-time, and will halt if the namespace fails this verification. For now, use a reverse domain name for the box namespace.</p>
<p>If you don't have a reverse domain name, use a GUID string identifier. We currently don't verify that the namespace is globally unique, but we will perform this validation in the future.</p>
<p>Use of this configuration macro before UVISOR_BOX_CONFIG is required. If you do not wish to give your box a namespace, specify NULL as the namespace to create an anonymous box.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;uvisor-lib/uvisor-lib.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Configure the secure box.</span></div><div class="line"><a class="code" href="group__hypervisor.html#gafe52bfcc466d459d149c63966c2f4a58">UVISOR_BOX_NAMESPACE</a>(<span class="stringliteral">&quot;com.example.my-box-name&quot;</span>);</div><div class="line"><a class="code" href="group__hypervisor.html#ga6143739a0475a71e8002f540de3c53f0">UVISOR_BOX_CONFIG</a>(my_box_name, UVISOR_BOX_STACK_SIZE); </div></div><!-- fragment --> 
</div>
</div>
<a id="ga7cb080278fc7d660addf9bbff6d3f2da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cb080278fc7d660addf9bbff6d3f2da">&sect;&nbsp;</a></span>UVISOR_SET_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UVISOR_SET_MODE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">uvisor_mode</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set mode for the uVisor [temporary]. </p>
<p>C/C++ pre-processor macro (object declaration)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uvisor_mode</td><td>The uvisor mode:<ul>
<li>UVISOR_DISABLED = disabled [default]</li>
<li>UVISOR_PERMISSIVE = permissive [currently n.a.]</li>
<li>UVISOR_ENABLED = enabled</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;uvisor-lib/uvisor-lib.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Set the uVisor mode. </span></div><div class="line"><a class="code" href="group__hypervisor.html#ga7cb080278fc7d660addf9bbff6d3f2da">UVISOR_SET_MODE</a>(UVISOR_ENABLED);</div></div><!-- fragment --><p><b>Note:</b></p>
<ol type="1">
<li>This macro is only needed temporarily (uVisor disabled by default) and will be removed in the future.</li>
<li>This macro must be used only once in the top level yotta executable. </li>
</ol>

</div>
</div>
<a id="gae90f548ce110da855610f79301aafe34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae90f548ce110da855610f79301aafe34">&sect;&nbsp;</a></span>UVISOR_SET_MODE_ACL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UVISOR_SET_MODE_ACL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">uvisor_mode, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">const UvBoxAcl<em>main_box_acl_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set mode for the uVisor and provide background ACLs for the main box. </p>
<p>C/C++ pre-processor macro (object declaration)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uvisor_mode</td><td>The uvisor mode<ul>
<li>UVISOR_DISABLED&lt; = disabled [default]</li>
<li>UVISOR_PERMISSIVE = permissive [currently n.a.]</li>
<li>UVISOR_ENABLED = enabled</li>
</ul>
</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">main_box_acl_list</td><td>List of ACLs for the main box (background ACLs)</td></tr>
  </table>
  </dd>
</dl>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;uvisor-lib/uvisor-lib.h&quot;</span></div><div class="line"><span class="comment">// Create background ACLs for the main box. </span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> UvBoxAclItem g_background_acl[] = {</div><div class="line">  {UART0,       <span class="keyword">sizeof</span>(*UART0), UVISOR_TACL_PERIPHERAL},</div><div class="line">  {UART1,       <span class="keyword">sizeof</span>(*UART1), UVISOR_TACL_PERIPHERAL},</div><div class="line">  {PIT,         <span class="keyword">sizeof</span>(*PIT),   UVISOR_TACL_PERIPHERAL},</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Set the uVisor mode. </span></div><div class="line"><a class="code" href="group__hypervisor.html#gae90f548ce110da855610f79301aafe34">UVISOR_SET_MODE_ACL</a>(UVISOR_ENABLED, g_background_acl);</div></div><!-- fragment --><p><b>Note:</b></p>
<ol type="1">
<li>This macro is only needed temporarily (uVisor disabled by default) and will be removed in the future.</li>
<li>This macro must be used only once in the top level yotta executable. </li>
</ol>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1527b3a7e3df3007490669cbd26b4fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1527b3a7e3df3007490669cbd26b4fe9">&sect;&nbsp;</a></span>UvisorBoxAcl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__hypervisor.html#ga1527b3a7e3df3007490669cbd26b4fe9">UvisorBoxAcl</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>{ item_description } </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6e7f7b03367daefa2cbcb7e4f0538ba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e7f7b03367daefa2cbcb7e4f0538ba7">&sect;&nbsp;</a></span>check_acl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_acl </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>keyindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hook called by uVisor during loading of secure boxes. </p>
<p>It is the responsibility of the platform developer to implement this function to restrict ACLs based on the box privilege of the box being loaded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">p_acl</td><td>Pointer to the ACL of the box being loaded </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyindex</td><td>The key used to verify the box (hence its box privilege)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the ACL conforms to the ACL policy </dd></dl>

</div>
</div>
<a id="gafdaf52538986a558e934eab65221731e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdaf52538986a558e934eab65221731e">&sect;&nbsp;</a></span>rpc_fncall_waitfor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rpc_fncall_waitfor </td>
          <td>(</td>
          <td class="paramtype">const TFN_Ptr&#160;</td>
          <td class="paramname"><em>fn_ptr_array</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fn_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>box_id_caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle incoming RPC, setting the parameter box_id_caller to the caller box ID. </p>
<p>When deciding which memory to provide for rpc_fncall_waitfor to use when writing <code>box_id_caller</code>, strongly prefer thread local storage when multiple threads in a box can handle incoming RPC.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fn_ptr_array</td><td>The function pointer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fn_count</td><td>The function count </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">box_id_caller</td><td>The box identifier of the caller. After a call, box_id_caller is set to the box ID of the calling box (the source box of the RPC). This is set before the RPC is dispatched, so that the RPC target function can read from this location to determine the calling box ID. This parameter is optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>The timeout milliseconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{ description_of_the_return_value } </dd></dl>

</div>
</div>
<a id="gab099ca7d08f626791039573dbff14af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab099ca7d08f626791039573dbff14af5">&sect;&nbsp;</a></span>uvisor_box_id_self()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uvisor_box_id_self </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ID of the current box. </p>
<dl class="section return"><dt>Returns</dt><dd>The ID of the current box </dd></dl>

</div>
</div>
<a id="gab605e738e6bc828cd9efb6eacca79685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab605e738e6bc828cd9efb6eacca79685">&sect;&nbsp;</a></span>uvisor_box_namespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uvisor_box_namespace </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>box_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>box_namespace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the namespace of the specified box to the provided buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">box_id</td><td>The ID of the box you want to retrieve the namespace of </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">box_namespace</td><td>The buffer where the box namespace will be copied to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The length in bytes of the provided box_namespace buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return how many bytes were copied into box_namespace. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">UVISOR_ERROR_INVALID_BOX_ID</td><td>if the provided box ID is invalid. </td></tr>
    <tr><td class="paramname">UVISOR_ERROR_BUFFER_TOO_SMALL</td><td>if the provided box_namespace is too small to hold MAX_BOX_NAMESPACE_LENGTH bytes. </td></tr>
    <tr><td class="paramname">UVISOR_ERROR_BOX_NAMESPACE_ANONYMOUS</td><td>if the box is anonymous. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga82e5cbff1a1a26974ed1e5f493607cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82e5cbff1a1a26974ed1e5f493607cf2">&sect;&nbsp;</a></span>uvisor_box_signingkey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uvisor_box_signingkey </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>box_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>keyindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the signing key ID of the specified box, hence its box privilege. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">box_id</td><td>The ID of the box you want to retrieve the signing key ID.</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">keyindex</td><td>Location where to receive the requested key ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of execution </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">UVISOR_ERROR_INVALID_BOX_ID</td><td>if the provided box ID is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa02ff863ab222f97723b60e59f6d92d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa02ff863ab222f97723b60e59f6d92d8">&sect;&nbsp;</a></span>vIRQ_ClearPendingIRQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vIRQ_ClearPendingIRQ </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear pending status of IRQn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7beb8d1fe68378367bcb8085a2d16cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7beb8d1fe68378367bcb8085a2d16cd5">&sect;&nbsp;</a></span>vIRQ_DisableIRQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vIRQ_DisableIRQ </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable IRQn for the currently active box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3dd01fda80a57db36a78994d0cae91ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3dd01fda80a57db36a78994d0cae91ee">&sect;&nbsp;</a></span>vIRQ_EnableIRQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vIRQ_EnableIRQ </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable IRQn for the currently active box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga880e3229f62cfff1c638c5dd6a1e9050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga880e3229f62cfff1c638c5dd6a1e9050">&sect;&nbsp;</a></span>vIRQ_GetLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vIRQ_GetLevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get level of currently active IRQn, if any. </p>
<dl class="section return"><dt>Returns</dt><dd>The priority level of the currently active IRQn, if any; -1 otherwise </dd></dl>

</div>
</div>
<a id="gad450b31ead2ec4f7bb2dbe07ebcfd8e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad450b31ead2ec4f7bb2dbe07ebcfd8e7">&sect;&nbsp;</a></span>vIRQ_GetPendingIRQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t vIRQ_GetPendingIRQ </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get pending status of IRQn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pending status of IRQn </dd></dl>

</div>
</div>
<a id="ga3da0be917ac42157f0d33e3e1412379b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3da0be917ac42157f0d33e3e1412379b">&sect;&nbsp;</a></span>vIRQ_GetPriority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t vIRQ_GetPriority </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get priority level of IRQn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The priority level of IRQn, if available; 0 otherwise </dd></dl>

</div>
</div>
<a id="gaaa9c852e90077dd4c553240d769b3658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa9c852e90077dd4c553240d769b3658">&sect;&nbsp;</a></span>vIRQ_GetVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t vIRQ_GetVector </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ISR registered for IRQn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ISR registered for IRQn, if present; 0 otherwise </dd></dl>

</div>
</div>
<a id="gab5570c2fa5a04a3a183cdef960a43c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5570c2fa5a04a3a183cdef960a43c6b">&sect;&nbsp;</a></span>vIRQ_SetPendingIRQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vIRQ_SetPendingIRQ </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set pending status of IRQn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3c725e15df2f30fdaed9f1873a7eebdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c725e15df2f30fdaed9f1873a7eebdf">&sect;&nbsp;</a></span>vIRQ_SetPriority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vIRQ_SetPriority </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set priority level of IRQn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">priority</td><td>Priority level (minimum: 1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3bf7917bc9150d1b91bec5d41962ff13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bf7917bc9150d1b91bec5d41962ff13">&sect;&nbsp;</a></span>vIRQ_SetVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vIRQ_SetVector </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irqn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an ISR to the currently active box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irqn</td><td>IRQn </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vector</td><td>Interrupt handler; if 0 the IRQn slot is de-registered for the current box </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="site-footer" align="center">
<div id="site-footer-edge1"></div>
<!-- BEGIN: FOOTER CONTROL PANEL -->
<div id="fcp-shell">
<table id="fcp-table1" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="middle">
    <td id="fcp-box1" align="left" width="97%">
    <div class="fcp-text"><nobr>© 2017 Maxim Integrated</nobr></div>
    </td>
    <td id="fcp-box2" align="right" width="1%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
    <td id="fcp-box3" align="right" width="1%">
    <div class="fcp-text"><nobr>
    <a class="fcp" href="http://www.maximintegrated.com/contact/">Contact Us</a>
    &nbsp;&nbsp; | &nbsp;&nbsp;
    <a class="fcp" href="http://www.maximintegrated.com/legal/privacy.cfm">Privacy Policy</a>
    &nbsp;&nbsp; | &nbsp;&nbsp;
    <a class="fcp" href="http://www.maximintegrated.com/legal/">Legal Notices</a>
    &nbsp;&nbsp; | &nbsp;&nbsp;
    </nobr></div>
    </td>
</tr>
</tbody></table>
</div><!-- /fcp-shell -->
<!-- END: FOOTER CONTROL PANEL -->
<div id="site-footer-edge2"></div>
</div>
